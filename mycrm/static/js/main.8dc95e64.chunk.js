(this["webpackJsonpmycrm-front"]=this["webpackJsonpmycrm-front"]||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),s=a.n(o),c=a(9),l=a(6),i=a(10),m=a(11),u=a(14),h=a(13),p=a(15),d=(a(38),a(12)),f=(a(39),a(30)),b=a.n(f);localStorage.removeItem("token");var v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={name:""},a.listRef=r.a.createRef(),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({name:this.refs.name.value,password:this.refs.password.value}),b.a.post("https://mycrm-api.herokuapp.com/login?name=".concat(this.refs.name.value,"&password=").concat(this.refs.password.value)).then((function(e){localStorage.setItem("token",e.data.token),t.setState({logged:!0})})).catch((function(e){t.setState({error:e.response.data.info.message})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"form",ref:this.listRef},r.a.createElement("input",{type:"text",name:"name",ref:"name",placeholder:"Name"}),r.a.createElement("input",{type:"password",name:"password",ref:"password",placeholder:"Password"}),r.a.createElement("button",{onClick:this.handleSubmit},r.a.createElement("span",null,"LOGIN!"))),this.state.error&&r.a.createElement("p",null,this.state.error),!0===this.state.logged&&r.a.createElement(l.a,{to:"/dashboard"}))}}]),t}(r.a.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return null!==localStorage.getItem("token")?r.a.createElement(l.a,{to:"/dashboard"}):r.a.createElement(v,null)}}]),t}(r.a.Component);s.a.render(r.a.createElement(c.a,null,r.a.createElement(l.b,{path:"/",component:E}),r.a.createElement(l.b,{path:"/dashboard",component:E})),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8dc95e64.chunk.js.map