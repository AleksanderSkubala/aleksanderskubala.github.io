{"version":3,"sources":["components/login/Login.js","components/Main.js","index.js"],"names":["localStorage","removeItem","Login","props","state","name","listRef","React","createRef","handleSubmit","bind","event","preventDefault","this","setState","refs","value","password","axios","post","then","res","setItem","data","token","logged","catch","err","error","response","info","message","className","ref","type","placeholder","onClick","to","Component","Main","getItem","ReactDOM","render","path","component","document","getElementById"],"mappings":"0UAKAA,aAAaC,WAAW,S,IA2DTC,E,YAxDX,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CAACC,KAAM,IAEpB,EAAKC,QAAUC,IAAMC,YACrB,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBALL,E,0EAQNC,GAAQ,IAAD,OAChBA,EAAMC,iBACNC,KAAKC,SAAS,CACVT,KAAMQ,KAAKE,KAAKV,KAAKW,MACrBC,SAAUJ,KAAKE,KAAKE,SAASD,QAEjCE,IAAMC,KAAN,qDAA0DN,KAAKE,KAAKV,KAAKW,MAAzE,qBAA2FH,KAAKE,KAAKE,SAASD,QACzGI,MAAK,SAAAC,GACFrB,aAAasB,QAAQ,QAASD,EAAIE,KAAKC,OACvC,EAAKV,SAAS,CAACW,QAAQ,OAE1BC,OAAM,SAACC,GACJ,EAAKb,SAAS,CAACc,MAAOD,EAAIE,SAASN,KAAKO,KAAKC,e,+BAKrD,OACI,yBAAKC,UAAU,aACX,qCACA,yBAAKA,UAAU,OAAOC,IAAKpB,KAAKP,SAC5B,2BACI4B,KAAK,OACL7B,KAAK,OACL4B,IAAI,OACJE,YAAY,SAEhB,2BACID,KAAK,WACL7B,KAAK,WACL4B,IAAI,WACJE,YAAY,aAEhB,4BAAQC,QAASvB,KAAKJ,cAClB,0CAGPI,KAAKT,MAAMwB,OACR,2BAAIf,KAAKT,MAAMwB,QAEI,IAAtBf,KAAKT,MAAMqB,QACR,kBAAC,IAAD,CAAUY,GAAG,oB,GAlDb9B,IAAM+B,WCSXC,E,iLARX,OAAqC,OAAlCvC,aAAawC,QAAQ,SACf,kBAAC,IAAD,CAAUH,GAAG,eAGf,kBAAC,EAAD,U,GAPQ9B,IAAM+B,WCIzBG,IAASC,OACL,kBAAC,IAAD,KACQ,kBAAC,IAAD,CAAOC,KAAK,IAAIC,UAAWL,IAC3B,kBAAC,IAAD,CAAOI,KAAK,aAAaC,UAAWL,KAE7CM,SAASC,eAAe,W","file":"static/js/main.8dc95e64.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Login.css';\r\nimport { Redirect } from 'react-router-dom'\r\nimport axios from 'axios';\r\n\r\nlocalStorage.removeItem('token');\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: ''};\r\n\r\n        this.listRef = React.createRef();\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            name: this.refs.name.value,\r\n            password: this.refs.password.value\r\n        });\r\n        axios.post( `https://mycrm-api.herokuapp.com/login?name=${this.refs.name.value}&password=${this.refs.password.value}`)\r\n            .then(res => {\r\n                localStorage.setItem('token', res.data.token);\r\n                this.setState({logged: true});\r\n            })\r\n            .catch((err) => {\r\n                this.setState({error: err.response.data.info.message});\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h1>Login</h1>\r\n                <div className=\"form\" ref={this.listRef}>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        ref=\"name\"\r\n                        placeholder=\"Name\"\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        ref=\"password\"\r\n                        placeholder=\"Password\"\r\n                    />\r\n                    <button onClick={this.handleSubmit}>\r\n                        <span>LOGIN!</span>\r\n                    </button>\r\n                </div>\r\n                {this.state.error &&\r\n                    <p>{this.state.error}</p>\r\n                }\r\n                {this.state.logged === true &&\r\n                    <Redirect to='/dashboard'/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\nimport './Main.css';\nimport { Redirect } from 'react-router-dom'\nimport Login from './login/Login';\n\nclass Main extends React.Component {\n\n  render() {\n    if(localStorage.getItem('token') !== null) {\n      return <Redirect to='/dashboard' />\n    }\n\n    return <Login/>\n  }\n}\n\nexport default Main;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n    BrowserRouter as Router,\n    Route\n} from 'react-router-dom';\n\nimport Main from './components/Main';\n\nReactDOM.render((\n    <Router>\n            <Route path=\"/\" component={Main} />\n            <Route path=\"/dashboard\" component={Main} />\n    </Router>\n), document.getElementById('root'));\n"],"sourceRoot":""}